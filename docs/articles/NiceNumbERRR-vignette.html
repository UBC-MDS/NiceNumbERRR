<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Go through NiceNumbERRR package • NiceNumbERRR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Go through NiceNumbERRR package">
<meta property="og:description" content="NiceNumbERRR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NiceNumbERRR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/NiceNumbERRR-vignette.html">Go through NiceNumbERRR package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="NiceNumbERRR-vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Go through NiceNumbERRR package</h1>
                        <h4 class="author">Jayme Gordon, Cameron Harris, Guanshu Tao, Zhiyong Wang</h4>
            
      
      
      <div class="hidden name"><code>NiceNumbERRR-vignette.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">NiceNumbERRR</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: tidyverse</span>
<span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</span>
<span class="co">#&gt; ✓ ggplot2 3.3.2     ✓ purrr   0.3.4</span>
<span class="co">#&gt; ✓ tibble  3.0.4     ✓ dplyr   1.0.2</span>
<span class="co">#&gt; ✓ tidyr   1.1.2     ✓ stringr 1.4.0</span>
<span class="co">#&gt; ✓ readr   1.4.0     ✓ forcats 0.5.0</span>
<span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; x dplyr::filter() masks stats::filter()</span>
<span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></code></pre></div>
<div id="brief-introduction-of-this-package" class="section level2">
<h2 class="hasAnchor">
<a href="#brief-introduction-of-this-package" class="anchor"></a>Brief introduction of this package</h2>
<p>This package provides basic functions that make numbers display nicely. In most real-world problems, the datasets are raw and we need to deal with number formats to make them readable for humans or for computers. Usually, a few or more lines of coding are needed while dealing with number-display problems so we are thinking of compressing the time and programming work on this issue. This package solves this kind of problems in a way of transfer forward and backward from long digit numbers to human-readable ones. There are functions doing single number transactions, column transactions from a data frame, and displaying colors of input numbers.</p>
</div>
<div id="try-this-package-on-a-toy-dataframe" class="section level2">
<h2 class="hasAnchor">
<a href="#try-this-package-on-a-toy-dataframe" class="anchor"></a>Try this package on a toy dataframe</h2>
<table class="table">
<thead><tr class="header">
<th align="right">number</th>
<th align="left">human</th>
<th>filesize_human</th>
<th align="center">filesize_bytes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">12000</td>
<td align="left">12K</td>
<td>22.6MB</td>
<td align="center">1200000</td>
</tr>
<tr class="even">
<td align="right">123998</td>
<td align="left">$123M</td>
<td>123KB</td>
<td align="center">12366667</td>
</tr>
<tr class="odd">
<td align="right">8800000</td>
<td align="left">$133.6556B</td>
<td>8.889GB</td>
<td align="center">1888889</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create the toy data above in R</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">12000</span>, <span class="fl">123998</span>, <span class="fl">8800000</span><span class="op">)</span>, human <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"12K"</span>, <span class="st">"$123M"</span>, <span class="st">"$133.6556B"</span><span class="op">)</span>, filesize_human <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"22.6MB"</span>, <span class="st">"123KB"</span>, <span class="st">" 8.889GB"</span><span class="op">)</span>, filesize_bytes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1200000</span>, <span class="fl">12366667</span>, <span class="fl">1888889</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="examples-of-each-functions-in-this-package" class="section level2">
<h2 class="hasAnchor">
<a href="#examples-of-each-functions-in-this-package" class="anchor"></a>Examples of each functions in this package</h2>
<p>Let’s try these functions one by one.</p>
<div id="to_human" class="section level3">
<h3 class="hasAnchor">
<a href="#to_human" class="anchor"></a>1. <code>to_human</code>
</h3>
<p>This function converts numeric value to human-readable string representations. Users need to use a specific number as input and choose decimal precision and prefixes of filesize or numbers as optionals. The function will return a human-readable string.</p>
<p>Let’s convert each value from number column in toy dataframe to human-readable strings:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">number</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_human.html">to_human</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">number</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "12K"</span>
<span class="co">#&gt; [1] "124K"</span>
<span class="co">#&gt; [1] "9M"</span></code></pre></div>
<p>Then let’s try converting filesizes:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">filesize_bytes</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_human.html">to_human</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">number</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, family <span class="op">=</span> <span class="st">"filesize"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] "12KB"</span>
<span class="co">#&gt; [1] "124KB"</span>
<span class="co">#&gt; [1] "9MB"</span></code></pre></div>
</div>
<div id="to_numeric" class="section level3">
<h3 class="hasAnchor">
<a href="#to_numeric" class="anchor"></a>2. <code>to_numeric</code>
</h3>
<p>How about changing from human-readable string back to numeric values?</p>
<p>This function converts a human-readable value to a Python readable numeric value. Users need to use a specific human-readable string of numbers as input and choose the prefixes of filesize or numbers as optionals. The function will return a float.</p>
<p>We can try the human column in toy dataframe:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">human</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_numeric.html">to_numeric</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">human</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] 12000</span>
<span class="co">#&gt; [1] 1.23e+08</span>
<span class="co">#&gt; [1] 133655600000</span></code></pre></div>
<p>Try filesize_human column as well:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">filesize_human</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="fu"><a href="../reference/to_numeric.html">to_numeric</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">filesize_human</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, family <span class="op">=</span> <span class="st">"filesize"</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
<span class="co">#&gt; [1] 22600000</span>
<span class="co">#&gt; [1] 123000</span>
<span class="co">#&gt; [1] 8.889e+09</span></code></pre></div>
</div>
<div id="to_df" class="section level3">
<h3 class="hasAnchor">
<a href="#to_df" class="anchor"></a>3. <code>to_df</code>
</h3>
<p>We have two functions <code>to_human</code> and <code>to_numeric</code> to convert single values. But changing the whole column just using one function will be much convenient. Here it comes:</p>
<p>This function changes the formatting of text in one or more columns of data in a dataframe. The inputs should include a data frame, column name(s), and two optionals: transform type(eg. human) and type of prefixes. The function will return a dataframe with the values from the input columns transferred to the transform type(human-readable by default).</p>
<p>Let’s try convert two columns from toy dataframe:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/to_df.html">to_df</a></span><span class="op">(</span><span class="va">df</span>, col_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"number"</span>, <span class="st">"filesize_bytes"</span><span class="op">)</span>, transform_type <span class="op">=</span> <span class="st">"human"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 3 x 4</span>
<span class="co">#&gt;   number    human      filesize_human filesize_bytes</span>
<span class="co">#&gt;   &lt;list&gt;    &lt;chr&gt;      &lt;chr&gt;          &lt;list&gt;        </span>
<span class="co">#&gt; 1 &lt;chr [1]&gt; 12K        "22.6MB"       &lt;chr [1]&gt;     </span>
<span class="co">#&gt; 2 &lt;chr [1]&gt; $123M      "123KB"        &lt;chr [1]&gt;     </span>
<span class="co">#&gt; 3 &lt;chr [1]&gt; $133.6556B " 8.889GB"     &lt;chr [1]&gt;</span></code></pre></div>
</div>
<div id="to_color" class="section level3">
<h3 class="hasAnchor">
<a href="#to_color" class="anchor"></a>4. <code>to_color</code>
</h3>
<p>Besides converting methods introduced above, here comes another function to display number nicer.</p>
<p>This function separate numeric values to parts starting from the right and each part contains three digits. Then it gives different colors to each part and the default colors are red, green, yellow, and blue. Users need to use a specific number as input and choose a list of colors they want to assign on the number as an optional. The function will return a string that can be used in print() function to visual numbers with colors in the terminal.</p>
<p>Let’s give it a try:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/to_color.html">to_color</a></span><span class="op">(</span><span class="fl">1234567L</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"yellow"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "\033[32m1\033[0m\033[33m2\033[0m\033[34m3\033[0m\033[31m4\033[0m\033[32m5\033[0m\033[33m6\033[0m\033[34m7\033[0m"</span></code></pre></div>
<p>The combination of numbers, slashes and letters represents the color for that number. These colored strings cannot display in R for now, but works in terminal.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Zhiyong Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
